<!DOCTYPE html>
<html>
<head>
  <title>Kontur Ledakan Tianjin - Multi Basemap</title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    html, body, #map { height: 100%; margin: 0; padding: 0; }
  </style>
</head>
<body>
<div id="map"></div>
<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// ========== DATA GEOJSON LANGSUNG DIMASUKKAN ==========
const geojsonData = {
  "type": "FeatureCollection",
  "features": [
    /* ------ Copy semua data poligon Anda di sini persis seperti sebelumnya ------- */
    {
      "type": "Feature",
      "properties": {
        "name": "r=500 m",
        "fill": "#FFFFE0",
        "fill-opacity": 0.25,
        "stroke": "#000000",
        "stroke-width": 1
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [117.74843294386412,39.041475],[117.74841031417584,39.04187464234177],[117.74834260221903,39.04227115694035],[117.74823033793152,39.04266144053142],[117.74807439993361,39.04304243861668],[117.74787600865155,39.04341116936956],[117.7476367167661,39.04376474697197],[117.74735839706071,39.04410040419977],[117.74704322776444,39.04441551408005],[117.74669367550436,39.04470761045076],[117.74631247600084,39.04497440726175],[117.74590261265683,39.04521381646625],[117.74546729320875,39.04542396436263],[117.74500992462147,39.04560320625866],[117.74453408642432,39.0457501393435],[117.74404350269637,39.04586361366652],[117.74354201292043,39.045942741137296],[117.74303354193397,39.04598690247609],[117.74252206921183,39.04599575206054],[117.74201159772157,39.04596922063066],[117.74150612259473,39.045907515830855],[117.7410095998595,39.045811120584844],[117.74052591547951,39.04568078931612],[117.74005885494083,39.04551754204359],[117.73961207362544,39.04532265639848],[117.7391890682029,39.04509765762521],[117.73879314926418,39.044844306644244],[117.73842741541179,39.04456458627051],[117.73809472900899,39.04426068569519],[117.73779769377795,39.04393498335234],[117.73753863442211,39.04359002830438],[117.73731957843215,39.04322852029228],[117.73714224021822,39.04285328860639],[117.73700800769228,39.042467269943394],[117.73691793140584,39.04207348542272],[117.73687271632798,39.04167501694216],[117.73687271632798,39.04127498305784],[117.73691793140584,39.04087651457728],[117.73700800769228,39.0404827300566],[117.73714224021822,39.04009671139361],[117.73731957843215,39.039721479707715],[117.73753863442211,39.03935997169562],[117.73779769377795,39.03901501664766],[117.73809472900899,39.038689314304804],[117.73842741541179,39.038385413729486],[117.73879314926418,39.03810569335575],[117.7391890682029,39.037852342374784],[117.73961207362544,39.037627343601514],[117.74005885494083,39.037432457956406],[117.74052591547951,39.037269210683874],[117.7410095998595,39.03713887941515],[117.74150612259473,39.03704248416914],[117.74201159772157,39.03698077936934],[117.74252206921183,39.036954247939455],[117.74303354193397,39.03696309752391],[117.74354201292043,39.0370072588627],[117.74404350269637,39.03708638633348],[117.74453408642432,39.0371998606565],[117.74500992462147,39.037346793741335],[117.74546729320875,39.03752603563737],[117.74590261265683,39.037736183533745],[117.74631247600084,39.03797559273825],[117.74669367550436,39.03824238954924],[117.74704322776444,39.038534485919946],[117.74735839706071,39.03884959580023],[117.7476367167661,39.03918525302802],[117.74787600865155,39.039538830630434],[117.74807439993361,39.039907561383316],[117.74823033793152,39.04028855946858],[117.74834260221903,39.040678843059645],[117.74841031417584,39.04107535765823],[117.74843294386412,39.041475],[117.74843294386412,39.041475]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "r=250 m",
        "fill": "#FFFF00",
        "fill-opacity": 0.25,
        "stroke": "#000000",
        "stroke-width": 1
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [117.74554147193206,39.041475],[117.74553015708791,39.04167482117088],[117.74549630110951,39.041873078470175],[117.74544016896576,39.042068220265705],[117.7453621999668,39.04225871930834],[117.74526300432576,39.042443084684784],[117.74514335838305,39.04261987348598],[117.74500419853035,39.042787702099886],[117.74484661388222,39.042945257040024],[117.74467183775218,39.043091305225374],[117.74448123800042,39.04322470363088],[117.74427630632842,39.043344408233125],[117.74405864660437,39.043449482181316],[117.74382996231073,39.04353910312933],[117.74359204321216,39.04361256967175],[117.74334675134818,39.04366930683326],[117.74309600646022,39.04370887056865],[117.74284177096698,39.04373095123805],[117.74258603460592,39.04373537603027],[117.74233079886079,39.04372211031533],[117.74207806129736,39.04369125791543],[117.74182979992975,39.04364306029242],[117.74158795773975,39.043577894658064],[117.74135442747041,39.043496271021795],[117.74113103681272,39.043398828199244],[117.74091953410145,39.043286328812606],[117.74072157463209,39.04315965332212],[117.7405387077059,39.04301979313525],[117.7403723645045,39.04286784284759],[117.74022384688898,39.04270499167617],[117.74009431721105,39.04253251415219],[117.73998478921608,39.04235176014614],[117.73989612010911,39.04216414430319],[117.73982900384614,39.041971134971696],[117.73978396570291,39.04177424271136],[117.73976135816399,39.04157500847108],[117.73976135816399,39.04137499152892],[117.73978396570291,39.041175757288634],[117.73982900384614,39.0409788650283],[117.73989612010911,39.040785855696804],[117.73998478921608,39.04059823985386],[117.74009431721105,39.040417485847804],[117.74022384688898,39.04024500832383],[117.7403723645045,39.040082157152405],[117.7405387077059,39.039930206864746],[117.74072157463209,39.039790346677876],[117.74091953410145,39.03966367118739],[117.74113103681272,39.03955117180075],[117.74135442747041,39.0394537289782],[117.74158795773975,39.03937210534193],[117.74182979992975,39.03930693970758],[117.74207806129736,39.03925874208457],[117.74233079886079,39.03922788968467],[117.74258603460592,39.03921462396973],[117.74284177096698,39.03921904876195],[117.74309600646022,39.039241129431346],[117.74334675134818,39.03928069316674],[117.74359204321216,39.039337430328246],[117.74382996231073,39.03941089687066],[117.74405864660437,39.03950051781868],[117.74427630632842,39.03960559176687],[117.74448123800042,39.03972529636912],[117.74467183775218,39.03985869477462],[117.74484661388222,39.04000474295997],[117.74500419853035,39.04016229790011],[117.74514335838305,39.040330126514014],[117.74526300432576,39.04050691531521],[117.7453621999668,39.040691280691654],[117.74544016896576,39.04088177973429],[117.74549630110951,39.04107692152982],[117.74553015708791,39.04127517882912],[117.74554147193206,39.041475],[117.74554147193206,39.041475]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "r=150 m",
        "fill": "#FF69B4",
        "fill-opacity": 0.25,
        "stroke": "#000000",
        "stroke-width": 1
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [117.74438488315923,39.041475],[117.74437809425275,39.04159489270253],[117.74435778066571,39.04171384708211],[117.74432410137946,39.04183093215942],[117.74427731998009,39.041945231585004],[117.74421780259546,39.04205585081087],[117.74414601502983,39.04216192409159],[117.7440625191182,39.04226262125993],[117.74396796832933,39.042357154224014],[117.7438631026513,39.042444783135224],[117.74374874280025,39.04252482217852],[117.74362578379704,39.04259664493988],[117.74349518796262,39.042659689308785],[117.74335797738644,39.0427134618776],[117.7432152259273,39.04275754180305],[117.74306805080892,39.04279158409995],[117.74291760387612,39.04281532234119],[117.74276506258019,39.04282857074283],[117.74261162076355,39.04283122561816],[117.74245847931647,39.042823266189195],[117.74230683677841,39.042804754749255],[117.74215787995784,39.04277583617545],[117.74201277464385,39.042736736794836],[117.74187265648224,39.04268776261308],[117.74173862208762,39.04262929691954],[117.74161172046087,39.04256179728756],[117.74149294477925,39.04248579199327],[117.74138322462353,39.042401875881154],[117.7412834187027,39.04231070570856],[117.74119430813339,39.0422129950057],[117.74111659032663,39.042109508491315],[117.74105087352964,39.042001056087685],[117.74099767206546,39.04188848658192],[117.74095740230769,39.041772680983016],[117.74093037942175,39.04165454562681],[117.74091681489838,39.04153500508265],[117.74091681489838,39.041414994917346],[117.74093037942175,39.041295454373184],[117.74095740230769,39.04117731901698],[117.74099767206546,39.04106151341808],[117.74105087352964,39.04094894391231],[117.74111659032663,39.04084049150868],[117.74119430813339,39.0407370049943],[117.7412834187027,39.04063929429144],[117.74138322462353,39.04054812411884],[117.74149294477925,39.040464208006725],[117.74161172046087,39.040388202712435],[117.74173862208762,39.040320703080454],[117.74187265648224,39.04026223738692],[117.74201277464385,39.04021326320516],[117.74215787995784,39.040174163824545],[117.74230683677841,39.04014524525074],[117.74245847931647,39.0401267338108],[117.74261162076355,39.04011877438184],[117.74276506258019,39.04012142925717],[117.74291760387612,39.040134677658806],[117.74306805080892,39.040158415900045],[117.7432152259273,39.04019245819695],[117.74335797738644,39.0402365381224],[117.74349518796262,39.04029031069121],[117.74362578379704,39.04035335506012],[117.74374874280025,39.040425177821476],[117.7438631026513,39.04050521686477],[117.74396796832933,39.04059284577598],[117.7440625191182,39.04068737874007],[117.74414601502983,39.04078807590841],[117.74421780259546,39.04089414918913],[117.74427731998009,39.04100476841499],[117.74432410137946,39.041119067840576],[117.74435778066571,39.04123615291789],[117.74437809425275,39.04135510729747],[117.74438488315923,39.041475],[117.74438488315923,39.041475]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "name": "r=49 m",
        "fill": "#FF0000",
        "fill-opacity": 0.25,
        "stroke": "#000000",
        "stroke-width": 1
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [117.74321672849868,39.041475],[117.74321451078923,39.04151416494949],[117.74320787501746,39.04155302338015],[117.74319687311728,39.04159127117208],[117.74318159119349,39.04162860898443],[117.74316214884784,39.041664744598215],[117.74313869824307,39.04169939520325],[117.74311142291195,39.04173228961157],[117.74308053632092,39.041763170379845],[117.74304628019942,39.041791795824174],[117.74300892264807,39.04181794191165],[117.74296875604037,39.04184140401369],[117.74292609473446,39.041861998507535],[117.7428812726129,39.041879564213346],[117.74283464046958,39.04189396365566],[117.74278656326425,39.041905084139316],[117.7427374172662,39.041912838631454],[117.74268758710953,39.04191716644266],[117.74263746278275,39.04191803370193],[117.74258743657671,39.0419154336218],[117.74253790001428,39.041909386551424],[117.74248924078623,39.04189993981731],[117.74244183971699,39.04188716735298],[117.7423960677842,39.04187116912027],[117.7423522832153,39.04185207032705],[117.74231082868388,39.04183002044727],[117.7422720286279,39.041805192051136],[117.74223618671036,39.041777779454506],[117.74220358344287,39.04174799719813],[117.74217447399023,39.04171607836853],[117.74214908617337,39.041682272773826],[117.74212761868635,39.04164684498864],[117.74211023954139,39.041610072283426],[117.74209708475384,39.04157224245445],[117.74208825727777,39.04153365157143],[117.74208382620014,39.04149460166033],[117.74208382620014,39.041455398339664],[117.74208825727777,39.04141634842857],[117.74209708475384,39.04137775754555],[117.74211023954139,39.04133992771657],[117.74212761868635,39.041303155011356],[117.74214908617337,39.04126772722617],[117.74217447399023,39.041233921631466],[117.74220358344287,39.04120200280187],[117.74223618671036,39.04117222054549],[117.7422720286279,39.04114480794886],[117.74231082868388,39.041119979552725],[117.7423522832153,39.041097929672944],[117.7423960677842,39.04107883087973],[117.74244183971699,39.041062832647015],[117.74248924078623,39.041050060182684],[117.74253790001428,39.04104061344857],[117.74258743657671,39.041034566378194],[117.74263746278275,39.041031966298064],[117.74268758710953,39.04103283355734],[117.7427374172662,39.04103716136854],[117.74278656326425,39.04104491586068],[117.74283464046958,39.04105603634434],[117.7428812726129,39.04107043578665],[117.74292609473446,39.04108800149246],[117.74296875604037,39.04110859598631],[117.74300892264807,39.041132058088344],[117.74304628019942,39.04115820417582],[117.74308053632092,39.04118682962015],[117.74311142291195,39.04121771038842],[117.74313869824307,39.041250604796744],[117.74316214884784,39.04128525540178],[117.74318159119349,39.041321391015565],[117.74319687311728,39.041358728827916],[117.74320787501746,39.04139697661984],[117.74321451078923,39.04143583505051],[117.74321672849868,39.041475],[117.74321672849868,39.041475]
          ]
        ]
      }
    }
  ]
};

// ================== BASE MAP PILIHAN =====================
var streetLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 10,
  attribution: '&copy; OpenStreetMap contributors'
});

// Esri World Imagery + Labels
var satelliteLayer = L.layerGroup([
  L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
    maxZoom: 19,
    attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
  }),
  L.tileLayer('https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}', {
    maxZoom: 19,
    opacity: 0.7,
    attribution: ''
  }),
  L.tileLayer('https://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}', {
    maxZoom: 19,
    opacity: 0.5,
    attribution: ''
  })
]);

// ================== INISIALISASI MAP =====================
var map = L.map('map', {
  center: [39.041475, 117.74265],
  zoom: 15,
  layers: [satelliteLayer] // default
});

// ================== CONTROL PILIHAN LAYER =====================
var baseMaps = {
  "Street Map": streetLayer,
  "Satellite Streets": satelliteLayer
};
L.control.layers(baseMaps).addTo(map);

// ================== TAMPILKAN POLIGON GEOJSON =====================
L.geoJSON(geojsonData, {
  style: function(feature) {
    return {
      color: feature.properties.stroke || "#000",
      weight: feature.properties["stroke-width"] || 1,
      fillColor: feature.properties.fill || "#FFF",
      fillOpacity: feature.properties["fill-opacity"] || 0.3
    };
  },
  onEachFeature: function(feature, layer) {
    if (feature.properties && feature.properties.name) {
      layer.bindPopup(feature.properties.name);
    }
  }
}).addTo(map);
</script>
</body>
</html>
